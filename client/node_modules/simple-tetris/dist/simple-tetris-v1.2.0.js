!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleTetris=t():e.SimpleTetris=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MATRIX_SIZE_X=10,t.DEFAULT_MATRIX_SIZE_Y=20,t.KEY_CODE_HARD_DROP=0,t.KEY_CODE_LEFT=1,t.KEY_CODE_RIGHT=2,t.KEY_CODE_ROTATE=3,t.TETRIMINO_ROTATIONS=4,t.TETRIMINO_SIZE_X=4,t.TETRIMINO_SIZE_Y=4,t._=!1,t.f=!1,t.X=!0,t.TETRIMINO_LIST=[[[t._,t._,t._,t._,t.X,t.X,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._],[t._,t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t.X,t._],[t._,t._,t._,t._,t._,t._,t._,t._,t.X,t.X,t.X,t.X,t._,t._,t._,t._],[t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t.X,t._,t._]],[[t._,t._,t._,t._,t.X,t.X,t.X,t._,t._,t._,t.X,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t._,t.X,t._,t._,t.X,t.X,t._,t._,t._,t._,t._,t._],[t.X,t._,t._,t._,t.X,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._],[t._,t.X,t.X,t._,t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t._]],[[t._,t._,t._,t._,t.X,t.X,t.X,t._,t.X,t._,t._,t._,t._,t._,t._,t._],[t.X,t.X,t._,t._,t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t._],[t._,t._,t.X,t._,t.X,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t._,t.X,t._,t._,t._,t.X,t.X,t._,t._,t._,t._,t._]],[[t._,t._,t._,t._,t._,t.X,t.X,t._,t._,t.X,t.X,t._,t._,t._,t._,t._],[t._,t._,t._,t._,t._,t.X,t.X,t._,t._,t.X,t.X,t._,t._,t._,t._,t._],[t._,t._,t._,t._,t._,t.X,t.X,t._,t._,t.X,t.X,t._,t._,t._,t._,t._],[t._,t._,t._,t._,t._,t.X,t.X,t._,t._,t.X,t.X,t._,t._,t._,t._,t._]],[[t._,t._,t._,t._,t._,t.X,t.X,t._,t.X,t.X,t._,t._,t._,t._,t._,t._],[t.X,t._,t._,t._,t.X,t.X,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t._],[t._,t.X,t.X,t._,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t._,t.X,t.X,t._,t._,t._,t.X,t._,t._,t._,t._,t._]],[[t._,t._,t._,t._,t.X,t.X,t.X,t._,t._,t.X,t._,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t.X,t.X,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t.X,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t._,t.X,t.X,t._,t._,t.X,t._,t._,t._,t._,t._,t._]],[[t._,t._,t._,t._,t.X,t.X,t._,t._,t._,t.X,t.X,t._,t._,t._,t._,t._],[t._,t.X,t._,t._,t.X,t.X,t._,t._,t.X,t._,t._,t._,t._,t._,t._,t._],[t.X,t.X,t._,t._,t._,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._],[t._,t._,t.X,t._,t._,t.X,t.X,t._,t._,t.X,t._,t._,t._,t._,t._,t._]]],t.DEVELOPMENT_MATRIX_20_10=[t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._,t.X,t._,t.X,t.X,t._,t._,t._,t._,t._,t._,t.X,t.X,t.X,t._,t._,t._,t._,t._,t._,t.X,t.X,t.X,t._,t._,t._,t._,t._,t._,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t.X,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t._,t._,t._,t._,t.X,t._,t._,t._,t._,t._,t.X,t._,t._,t._,t.X,t.X,t._,t._,t._,t._,t.X,t.X,t.X,t.X,t.X,t._,t._,t._,t.X,t.X,t.X,t._,t.X,t._,t._,t._,t._,t._,t.X,t._,t.X,t.X,t.X,t.X,t._,t._,t._,t.X,t.X,t._,t._,t.X,t.X,t.X].map(function(e){return e?1:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.matrixBlocksToRenderSelector=r.matrixBlocksToRenderSelector;var i=n(0);t.KEY_CODE_HARD_DROP=i.KEY_CODE_HARD_DROP,t.KEY_CODE_LEFT=i.KEY_CODE_LEFT,t.KEY_CODE_RIGHT=i.KEY_CODE_RIGHT,t.KEY_CODE_ROTATE=i.KEY_CODE_ROTATE;var _=n(9);t.gameLoopIteration=_.gameLoopIteration;var o=n(11);t.createStore=o.createStore},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_NEW="INIT_NEW",t.MOVE_DOWN="MOVE_DOWN",t.MOVE_LEFT="MOVE_LEFT",t.MOVE_RIGHT="MOVE_RIGHT",t.ROTATE="ROTATE";var r=function(){return function(e){this.payload=e,this.type=t.INIT_NEW}}();t.InitNewAction=r;var i=function(){return function(e){this.payload=e,this.type=t.MOVE_DOWN}}();t.MoveDownAction=i;var _=function(){return function(){this.type=t.MOVE_LEFT}}();t.MoveLeftAction=_;var o=function(){return function(){this.type=t.MOVE_RIGHT}}();t.MoveRightAction=o;var a=function(){return function(){this.type=t.ROTATE}}();t.RotateAction=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.isNotCollidingSelector=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),function(i){for(var _=(i.tetrimino.rotation+r.TETRIMINO_ROTATIONS+n)%r.TETRIMINO_ROTATIONS,o=r.TETRIMINO_LIST[i.tetrimino.index][_],a=i.matrix,u=a.blocks,c=a.sizeX,s=a.sizeY,y=0;y<r.TETRIMINO_SIZE_Y;y++)for(var f=0;f<r.TETRIMINO_SIZE_X;f++){var d=i.tetrimino.x+e+f,l=i.tetrimino.y+t+y;if(o[y*r.TETRIMINO_SIZE_X+f]&&(d<0||c<=d||l<0||s<=l||u[l*c+d]))return!1}return!0}},t.matrixBlocksToRenderSelector=function(e){for(var t=r.TETRIMINO_LIST[e.tetrimino.index][e.tetrimino.rotation],n=e.matrix,i=n.sizeX,_=n.sizeY,o=e.matrix.blocks.slice(),a=0;a<r.TETRIMINO_SIZE_Y;a++)for(var u=0;u<r.TETRIMINO_SIZE_X;u++){var c=e.tetrimino.x+u,s=e.tetrimino.y+a;0<=c&&c<i&&0<=s&&s<_&&t[a*r.TETRIMINO_SIZE_X+u]&&(o[s*i+c]=1)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.generateBlocks=function(e,t,n){void 0===n&&(n=0);for(var r=[],i=0;i<t;i++)for(var _=0;_<e;_++)r.push(n);return r},t.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.getTestingState=function(e,t,n,i,_,o,a){var u=r.stateReducer(void 0,{type:void 0});return u.matrix.blocks=e.map(function(e){return e?1:0}),u.matrix.sizeX=t,u.matrix.sizeY=n,u.tetrimino.index=i,u.tetrimino.rotation=_,u.tetrimino.x=o,u.tetrimino.y=a,u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=n(14),_=n(16);t.stateReducer=function(e,t){return void 0===e&&(e=r.initialState),{matrix:i.matrixReducer(e.matrix,t),tetrimino:_.tetriminoReducer(e.tetrimino,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIALIZE_MATRIX="INITIALIZE_MATRIX";var r=function(){return function(e){this.payload=e,this.type=t.INITIALIZE_MATRIX}}();t.InitializeMatrixAction=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(8))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(19)),r(n(22))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(0);t.gameLoopIteration=function(e,t,n){switch(n){case i.KEY_CODE_HARD_DROP:e.dispatch(new r.KeyCodeHardDropAction);break;case i.KEY_CODE_LEFT:e.dispatch(new r.KeyCodeLeftAction);break;case i.KEY_CODE_RIGHT:e.dispatch(new r.KeyCodeRightAction);break;case i.KEY_CODE_ROTATE:e.dispatch(new r.KeyCodeRotateAction)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(2);t.KEY_CODE_HARD_DROP_ACTION="KEY_CODE_HARD_DROP_ACTION",t.KEY_CODE_LEFT_ACTION="KEY_CODE_LEFT_ACTION",t.KEY_CODE_RIGHT_ACTION="KEY_CODE_RIGHT_ACTION",t.KEY_CODE_ROTATE_ACTION="KEY_CODE_ROTATE_ACTION";var _=function(){function e(){this.type=t.KEY_CODE_HARD_DROP_ACTION}return e.prototype.executeThunk=function(e){var t=0;r.isNotCollidingSelector(0,++t)(e.getState())&&e.dispatch(new i.MoveDownAction({offsetY:1}))},e}();t.KeyCodeHardDropAction=_;var o=function(){function e(){this.type=t.KEY_CODE_LEFT_ACTION}return e.prototype.executeThunk=function(e){r.isNotCollidingSelector(-1)(e.getState())&&e.dispatch(new i.MoveLeftAction)},e}();t.KeyCodeLeftAction=o;var a=function(){function e(){this.type=t.KEY_CODE_RIGHT_ACTION}return e.prototype.executeThunk=function(e){r.isNotCollidingSelector(1)(e.getState())&&e.dispatch(new i.MoveRightAction)},e}();t.KeyCodeRightAction=a;var u=function(){function e(){this.type=t.KEY_CODE_ROTATE_ACTION}return e.prototype.executeThunk=function(e){r.isNotCollidingSelector(0,0,1)(e.getState())&&e.dispatch(new i.RotateAction)},e}();t.KeyCodeRotateAction=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(0),_=n(5),o=n(18);t.createStore=function(e){var t=new o.SimpleStore(_.stateReducer);return t.dispatch(new r.InitializeGameAction({matrixSizeX:e&&e.matrixSizeX||i.DEFAULT_MATRIX_SIZE_X,matrixSizeY:e&&e.matrixSizeY||i.DEFAULT_MATRIX_SIZE_Y})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),_=n(6),o=n(2);t.INITIALIZE_GAME_ACTION="INITIALIZE_GAME_ACTION";var a=function(){function e(e){this.payload=e,this.type=t.INITIALIZE_GAME_ACTION}return e.prototype.executeThunk=function(e){var t=this.payload,n=t.matrixSizeX,a=t.matrixSizeY;e.dispatch(new _.InitializeMatrixAction({sizeX:n,sizeY:a})),e.dispatch(new o.InitNewAction({index:i.getRandomInt(0,r.TETRIMINO_LIST.length-1),matrixSizeX:n}))},e}();t.InitializeGameAction=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState={matrix:void 0,tetrimino:void 0}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),_=n(0),o=n(15),a=n(4),u=function(e,t){var n=t.payload,i=n.sizeX,o=n.sizeY;return r({},e,{blocks:i===_.DEFAULT_MATRIX_SIZE_X&&o===_.DEFAULT_MATRIX_SIZE_Y?_.DEVELOPMENT_MATRIX_20_10.slice():a.generateBlocks(i,o),sizeX:i,sizeY:o})};t.matrixReducer=function(e,t){var n;void 0===e&&(e=o.initialMatrix);var r=((n={})[i.INITIALIZE_MATRIX]=u,n)[t.type];return r?r(e,t):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialMatrix={blocks:[],sizeX:null,sizeY:null}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),_=n(0),o=n(17),a=function(e,t){return r({},e,{index:t.payload.index,rotation:o.TetriminoRotation.DEGREE_0,x:Math.round((t.payload.matrixSizeX-_.TETRIMINO_SIZE_X)/2),y:0})},u=function(e,t){return r({},e,{x:e.x-1})},c=function(e,t){return r({},e,{y:e.y+t.payload.offsetY})},s=function(e,t){return r({},e,{x:e.x+1})},y=function(e,t){return r({},e,{rotation:(e.rotation+1)%_.TETRIMINO_ROTATIONS})};t.tetriminoReducer=function(e,t){var n;void 0===e&&(e=o.initialTetrimino);var r=((n={})[i.INIT_NEW]=a,n[i.MOVE_DOWN]=c,n[i.MOVE_LEFT]=u,n[i.MOVE_RIGHT]=s,n[i.ROTATE]=y,n)[t.type];return r?r(e,t):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=0]="I",e[e.J=1]="J",e[e.L=2]="L",e[e.O=3]="O",e[e.S=4]="S",e[e.T=5]="T",e[e.Z=6]="Z"}(t.TetriminoIndex||(t.TetriminoIndex={})),function(e){e[e.DEGREE_0=0]="DEGREE_0",e[e.DEGREE_90_CW=1]="DEGREE_90_CW",e[e.DEGREE_180_CW=2]="DEGREE_180_CW",e[e.DEGREE_270_CW=3]="DEGREE_270_CW"}(t.TetriminoRotation||(t.TetriminoRotation={})),t.initialTetrimino={index:null,rotation:null,x:null,y:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.reducer=e,this.dispatch({type:void 0})}return e.prototype.dispatch=function(e){if(!e)throw new Error("Please provide valid action!");this.state=this.reducer(this.state,e),function(e){return void 0!==e.executeThunk}(e)&&e.executeThunk(this)},e.prototype.getState=function(){return this.state},e}();t.SimpleStore=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=n(21),_=n(1),o=function(){function e(e){this.initializeStore(e),this.initializeTerminalGameIo(e)}return e.prototype.triggerKeypress=function(e){this.terminalGameIo.triggerKeypress(e)},e.prototype.initializeStore=function(e){this.store=_.createStore(e&&e.createStoreOptions?e.createStoreOptions:null)},e.prototype.initializeTerminalGameIo=function(e){this.terminalGameIo=r.createTerminalGameIo({domElementId:e&&e.domElementId?e.domElementId:null,fps:.5,frameHandler:this.frameHandler.bind(this),keypressHandler:this.keypressHandler.bind(this)})},e.prototype.frameHandler=function(e){var t=i.render(this.store.getState()),n=t.data,r=t.width,_=t.height;e.drawFrame(n,r,_)},e.prototype.keypressHandler=function(e,t){var n=null;switch(t){case r.Key.ArrowUp:n=_.KEY_CODE_ROTATE;break;case r.Key.ArrowLeft:n=_.KEY_CODE_LEFT;break;case r.Key.ArrowRight:n=_.KEY_CODE_RIGHT;break;case r.Key.ArrowDown:n=_.KEY_CODE_HARD_DROP;break;case r.Key.Escape:e.exit()}_.gameLoopIteration(this.store,this.terminalGameIo.getTime(),n),this.frameHandler(e)},e}();t.AsciiRunner=o},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(4)),r(n(9)),r(n(11));var i=n(1);t.Key=i.Key},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unknown="",e.Backspace="Backspace",e.Tab="Tab",e.Enter="Enter",e.Escape="Escape",e.Space="Space",e.Delete="Delete",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowRight="ArrowRight",e.ArrowLeft="ArrowLeft",e.Home="Home",e.Insert="Insert",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12"}(t.Key||(t.Key={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.frameDuration=Math.round(1e3/e.fps),this.frameHandler=e.frameHandler,this.keypressHandler=e.keypressHandler,this.startTime=(new Date).getTime(),this.initialize(),setTimeout(function(){return t.frameHandler(t)},0)}return e.prototype.drawFrame=function(e,t,n){var r,i="",_=0;if(this.active){if(e.length!==t*n)throw new Error("Frame data is not matching drawFrame dimensions");if(this.currentFrameData!==e){this.clear();for(var o=0;o<n;o++){r="";for(var a=0;a<t;a++)r+=e[_++];i+=r+"\n"}this.write(i),this.currentFrameData=e}}},e.prototype.exit=function(){this.active=!1,clearInterval(this.intervalId),this.finalCleanup()},e.prototype.getTime=function(){return((new Date).getTime()-this.startTime)/1e3},e.prototype.triggerKeypress=function(e){this.active&&this.keypressHandler(this,e)},e.prototype.initialize=function(){var e=this;this.initializeEvents(),this.intervalId=setInterval(function(){return e.frameHandler(e)},this.frameDuration),this.active=!0},e}();t.AbstractTerminalGameIo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),_=n(7);t.createTerminalGameIo=function(e){var t;if(r.isNode)t=_.TerminalGameIoNode;else{if(!r.isBrowser)throw new Error("Unable to create TerminalGameIo object due to environment detection problem.");t=i.TerminalGameIoBrowser}return new t(e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),_=n(6),o=function(e){function t(t){var n=e.call(this,t)||this;return n.domElementId=t.domElementId?t.domElementId:"root",n}return r(t,e),t.prototype.finalCleanup=function(){document.removeEventListener("keydown",this.keydownEventListener)},t.prototype.clear=function(){var e=i.getElementById(this.domElementId);e&&(e.innerHTML="")},t.prototype.initializeEvents=function(){var e=this;this.keydownEventListener=function(t){var n=_.getNormalizedKeyName(t);e.keypressHandler(e,n)},document.addEventListener("keydown",this.keydownEventListener)},t.prototype.write=function(e){var t=i.getElementById(this.domElementId);t&&(t.innerHTML=t.innerHTML+e)},t}(n(2).AbstractTerminalGameIo);t.TerminalGameIoBrowser=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=[{keyNameIn:["Backspace"],keyNameOut:r.Key.Backspace},{keyNameIn:["Tab"],keyNameOut:r.Key.Tab},{keyNameIn:["Enter"],keyNameOut:r.Key.Enter},{keyNameIn:["Escape","Esc"],keyNameOut:r.Key.Escape},{keyNameIn:["Space","Spacebar"," "],keyNameOut:r.Key.Space},{keyNameIn:["Delete","Del"],keyNameOut:r.Key.Delete},{keyNameIn:["ArrowUp","Up"],keyNameOut:r.Key.ArrowUp},{keyNameIn:["ArrowDown","Down"],keyNameOut:r.Key.ArrowDown},{keyNameIn:["ArrowRight","Right"],keyNameOut:r.Key.ArrowRight},{keyNameIn:["ArrowLeft","Left"],keyNameOut:r.Key.ArrowLeft},{keyNameIn:["Home"],keyNameOut:r.Key.Home},{keyNameIn:["Insert"],keyNameOut:r.Key.Insert},{keyNameIn:["End"],keyNameOut:r.Key.End},{keyNameIn:["PageUp"],keyNameOut:r.Key.PageUp},{keyNameIn:["PageDown"],keyNameOut:r.Key.PageDown},{keyNameIn:["F1"],keyNameOut:r.Key.F1},{keyNameIn:["F2"],keyNameOut:r.Key.F2},{keyNameIn:["F3"],keyNameOut:r.Key.F3},{keyNameIn:["F4"],keyNameOut:r.Key.F4},{keyNameIn:["F5"],keyNameOut:r.Key.F5},{keyNameIn:["F6"],keyNameOut:r.Key.F6},{keyNameIn:["F7"],keyNameOut:r.Key.F7},{keyNameIn:["F8"],keyNameOut:r.Key.F8},{keyNameIn:["F9"],keyNameOut:r.Key.F9},{keyNameIn:["F10"],keyNameOut:r.Key.F10},{keyNameIn:["F11"],keyNameOut:r.Key.F11},{keyNameIn:["F12"],keyNameOut:r.Key.F12},{keyNameIn:["Add"],keyNameOut:"+"},{keyNameIn:["Decimal"],keyNameOut:"."},{keyNameIn:["Divide"],keyNameOut:"/"},{keyNameIn:["Multiply"],keyNameOut:"*"},{keyNameIn:["Subtract"],keyNameOut:"-"}];t.getNormalizedKeyName=function(e){var t;return function(e){return 1===e.length&&"!".charCodeAt(0)<=e.charCodeAt(0)&&e.charCodeAt(0)<="}".charCodeAt(0)}(e.key)?e.key:1===(t=i.filter(function(t){return t.keyNameIn.indexOf(e.key)>=0})).length?t[0].keyNameOut:r.Key.Unknown}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),_=n(8),o=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.finalCleanup=function(){i.process.stdin.removeAllListeners(),i.process.exit()},t.prototype.clear=function(){this.write(_.cursorPosition(0,0))},t.prototype.initializeEvents=function(){var e=this;i.process.stdin.setRawMode(!0),i.process.stdin.on("data",function(t){var n=_.getKeyName(t.toJSON().data);e.keypressHandler(e,n)})},t.prototype.write=function(e){i.process.stdout.write(e)},t}(n(2).AbstractTerminalGameIo);t.TerminalGameIoNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=String.fromCharCode(27)+"[";t.cursorPosition=function(e,t){return""+i+(t+1)+";"+(t+1)+"H"};var _=[{data:[[8],[127]],keyName:r.Key.Backspace},{data:[[9]],keyName:r.Key.Tab},{data:[[13]],keyName:r.Key.Enter},{data:[[27]],keyName:r.Key.Escape},{data:[[32]],keyName:r.Key.Space},{data:[[27,91,51,126]],keyName:r.Key.Delete},{data:[[27,91,65]],keyName:r.Key.ArrowUp},{data:[[27,91,66]],keyName:r.Key.ArrowDown},{data:[[27,91,67]],keyName:r.Key.ArrowRight},{data:[[27,91,68]],keyName:r.Key.ArrowLeft},{data:[[27,91,49,126]],keyName:r.Key.Home},{data:[[27,91,50,126]],keyName:r.Key.Insert},{data:[[27,91,52,126]],keyName:r.Key.End},{data:[[27,91,53,126]],keyName:r.Key.PageUp},{data:[[27,91,54,126]],keyName:r.Key.PageDown},{data:[[27,91,91,65],[27,91,49,49,126]],keyName:r.Key.F1},{data:[[27,91,91,66],[27,91,49,50,126]],keyName:r.Key.F2},{data:[[27,91,91,67],[27,91,49,51,126]],keyName:r.Key.F3},{data:[[27,91,91,68],[27,91,49,52,126]],keyName:r.Key.F4},{data:[[27,91,91,69],[27,91,49,53,126]],keyName:r.Key.F5},{data:[[27,91,49,55,126]],keyName:r.Key.F6},{data:[[27,91,49,56,126]],keyName:r.Key.F7},{data:[[27,91,49,57,126]],keyName:r.Key.F8},{data:[[27,91,50,48,126]],keyName:r.Key.F9},{data:[[27,91,50,49,126]],keyName:r.Key.F10},{data:[[27,91,50,51,126]],keyName:r.Key.F11},{data:[[27,91,50,52,126]],keyName:r.Key.F12}];t.getKeyName=function(e){var t;return function(e){return 1===e.length&&"!".charCodeAt(0)<=e[0]&&e[0]<="}".charCodeAt(0)}(e)?String.fromCharCode(e[0]):1===(t=_.filter(function(t){return t.data.filter(function(t){return t.join(",")===e.join(",")}).length>0})).length?t[0].keyName:r.Key.Unknown}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=void 0!==e&&"[object global]"===toString.call(e),t.isBrowser=!t.isNode&&"undefined"!=typeof navigator&&"undefined"!=typeof document&&"undefined"!=typeof window,t.getElementById=function(e){return t.isBrowser?document.getElementById(e):null},t.argv=t.isNode?e.process.argv:[],t.process=t.isNode?e.process:null}).call(this,n(10))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="3.1.0",t.author="Robert Rypuła",t.githubUrl="https://github.com/robertrypula"}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.render=function(e){var t=e.matrix,n=t.sizeX,_=t.sizeY,o=r.matrixBlocksToRenderSelector(e);return i(o,n,_)};var i=function(e,t,n){for(var r=[["<|","==","|>"],["  ","\\/","  "]],i="",_=0;_<n;_++){i+="<|";for(var o=0;o<t;o++)i+=e[_*t+o]?"[]":" .";i+="|>"}return r.forEach(function(e){i+=e[0];for(var n=0;n<t;n++)i+=e[1];i+=e[2]}),{data:i,height:n+r.length,width:"<|".length+" .".length*t+"|>".length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="1.2.0",t.author="Robert Rypuła",t.githubUrl="https://github.com/robertrypula"}])});
//# sourceMappingURL=simple-tetris-v1.2.0.js.map